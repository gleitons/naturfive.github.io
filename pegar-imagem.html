<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compactar Imagem</title>
</head>

<body>
    

    <div id='container'>

    </div> 
    <input type='button' value='+' id='add-file-btn' /> 

    
    <script>
        function appendTheFile (url) {     
            url = new URL(url) 
            console.log(url)    
            // se for uma imagem, adicionamos uma imagem     
            if (url.pathname.match(/\.(jpe?g|png|svg|webp|gif)/)) {       
                let img = document.createElement('img')       
                img.src = url.toString()       
                return appendChild(img)     
            } else {       
                // se não for uma imagem, usamos um iframe       
                let iframe = document.createElement('iframe')       
                iframe.src = url.toString()       
                document.getElementById('container').appendChild(iframe)     
            }     
            // iframes funcionam para qualquer arquivo praticamente,     
            // mas poderíamos tratar outros formatos de arquivo, como vídeo, áudio, etc. 
        }  

        document.getElementById('add-file-btn').addEventListener('click', event => {   
            // perguntamos qual a URL para o usuário   
            let answer = window.prompt('Qual o endereço?')   
            // usamos uma expressão regular para verificarmos se é uma URL válida   
            
                
                // podemos opcionalmente parsear esta url em um objeto do tipo URL     
                appendTheFile(answer)   
            

            
        }) 
    </script>


    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://compressjs.herokuapp.com/compress.js"></script>
</body>

</html>